<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:ws="http://jax-ws.dev.java.net/spring/core"
       xmlns:wss="http://jax-ws.dev.java.net/spring/servlet" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:aop="http://www.springframework.org/schema/aop"
       xmlns:p="http://www.springframework.org/schema/p" xmlns:context="http://www.springframework.org/schema/context"
       xmlns:jee="http://www.springframework.org/schema/jee" xmlns:tx="http://www.springframework.org/schema/tx"
       xsi:schemaLocation="
          http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd
          http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
          http://jax-ws.dev.java.net/spring/core http://jax-ws.dev.java.net/spring/core.xsd
          http://jax-ws.dev.java.net/spring/servlet http://jax-ws.dev.java.net/spring/servlet.xsd
          http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd
          http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-2.5.xsd
          http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd">

    <context:annotation-config/>

    <import resource="classpath:myplan-search-config.xml"/>
    <import resource="classpath:ks-services-test-context.xml"/>

    <bean id="searchController" class="org.kuali.student.myplan.course.controller.CourseSearchController">
        <property name="luService" ref="luServiceImpl"/>
        <property name="atpService" ref="atpServiceImpl"/>
        <property name="courseOfferingService" ref="coService"/>
        <!--<property name="personImpl" ref="personimpl"/>-->
        <property name="academicCalendarService" ref="acalService"/>
        <property name="atpTypeComparator" ref="atpTypeComparator"/>
    </bean>

    <bean id="studentServiceClient" class="${uw.studentservice.impl}">
        <constructor-arg>
            <value>${uw.studentservice.url}</value>
        </constructor-arg>
        <constructor-arg>
            <value>${uw.keystore.filename}</value>
        </constructor-arg>
        <constructor-arg>
            <value>${uw.keystore.password}</value>
        </constructor-arg>
        <constructor-arg>
            <value>${uw.truststore.filename}</value>
        </constructor-arg>
        <constructor-arg>
            <value>${uw.truststore.password}</value>
        </constructor-arg>
    </bean>
    <bean name="StudentServiceClient" class="edu.uw.kuali.student.lib.client.studentservice.StudentServiceClientMockImpl"/>
    <!-- Override acalService bean with UW implementation -->
    <bean id="acalService" class="edu.uw.kuali.student.service.impl.UwAcademicCalendarServiceImpl">
        <property name="studentServiceClient" ref="StudentServiceClient"/>
    </bean>
    <!--<bean id="personimpl" class="org.kuali.rice.kim.impl.identity.PersonImpl">-->
    <!--</bean>-->

    <!-- Override ks-enroll CourseOfferingService bean with UW implementation -->
    <bean id="coService" class="edu.uw.kuali.student.myplan.tests.unit.FakeCourseOfferingService">
    </bean>

    <!--
    <bean id="coService" class="edu.uw.kuali.student.service.impl.UwCourseOfferingServiceImpl">
        <property name="studentServiceClient" ref="studentServiceClient"/>
    </bean>
    -->
    <bean id="atpTypeComparator" class="edu.uw.kuali.student.myplan.util.TermInfoComparator"/>

    <!--
    <bean id="savedCoursesService" class="org.kuali.student.myplan.course.dataobject.SavedCoursesService">
        <property name="academicPlanService" ref="academicPlanService"/>
        <property name="courseService" ref="courseServiceImpl"/>
    </bean>

    -->
    <!--<bean id="personImpl" class="org.kuali.student.myplan.service.mock.PersonMockImpl"/>-->
    <bean id="academicPlanService" class="org.kuali.student.myplan.academicplan.service.mock.AcademicPlanServiceMockImpl"/>

    <bean id="courseSearchStrategy" class="org.kuali.student.myplan.course.controller.CourseSearchStrategy">
        <property name="luService" ref="luServiceImpl"/>
<!--
        <property name="enumService" ref="emServiceImpl"/>
-->
    </bean>

    <bean id="coursePreReqSearch" class="org.kuali.student.myplan.course.service.CoursePreReqSearch">
        <property name="luService" ref="luServiceImpl"/>
    </bean>
    <import resource="classpath:uachieve/apis/context/uachieveapi_loaderContext.xml"/>
    <import resource="classpath:uachieve/apis/context/uachieveapi_daoContext.xml"/>
    <import resource="classpath:uachieve/apis/context/uachieveapi_dataAccessContext-local.xml"/>
    <import resource="classpath:uachieve/apis/context/uachieveapi_hibernateContext.xml"/>

    <bean id="uachieve.txManager" class="org.springframework.orm.hibernate3.HibernateTransactionManager">
        <property name="sessionFactory" ref="uachieveapi.sessionFactory"/>
    </bean>
    <tx:annotation-driven transaction-manager="uachieve.txManager"/>
    <bean id="velocity" class="org.apache.velocity.app.Velocity" />

    <bean id="degreeAuditService" class="org.kuali.student.myplan.audit.service.DegreeAuditServiceImpl">
        <property name="jobQueueRunLoader" ref="uachieveapi.jobQueueRunLoader"/>
        <property name="jobQueueRunDao" ref="uachieveapi.jobQueueRunDao"/>
        <property name="jobQueueListDao" ref="uachieveapi.jobQueueListDao"/>
        <property name="dprogDao" ref="uachieveapi.dprogDao"/>
        <!--<property name="velocity" ref="velocity"/>-->
    </bean>


    <bean id="courseDetailsInquiryViewHelperServiceImpl" class="org.kuali.student.myplan.course.service.CourseDetailsInquiryViewHelperServiceImpl">
        <property name="atpService" ref="atpServiceImpl"/>
        <property name="courseOfferingService" ref="coService"/>
        <property name="academicCalendarService" ref="acalService"/>
        <property name="courseService" ref="courseServiceImpl"/>
    </bean>

    <bean id="degreeAuditController" class="org.kuali.student.myplan.audit.controller.DegreeAuditController">
        <!--<property name="person" ref="personImpl"/>-->
        <property name="degreeAuditService" ref="degreeAuditService" />
    </bean>

    <bean id="planController" class="org.kuali.student.myplan.plan.controller.PlanController">
        <property name="courseDetailsInquiryService" ref="CourseDetailsInquiryViewHelperService"/>
        <!--<property name="person" ref="personimpl"/>-->
        <property name="academicPlanService" ref="academicPlanService"/>

    </bean>
    <bean name="CourseDetailsInquiryViewHelperService" class=" org.kuali.student.myplan.course.service.CourseDetailsInquiryViewHelperServiceImpl">
                  <property name="courseService" ref="CourseService" />
        <property name="atpService" ref="atpServiceImpl"/>
        <property name="academicCalendarService" ref="acalService"/>
        <property name="courseOfferingService" ref="coService"/>
        <property name="academicPlanService" ref="academicPlanService"/>

    </bean>
    <bean name="CourseService" class="org.kuali.student.myplan.service.mock.CourseServiceMockImpl">
        <property name="validCourses">
            <set>
                <value>e8a3fe1f-0592-4515-822c-4f806910775a</value>
            </set>
        </property>
    </bean>

</beans>