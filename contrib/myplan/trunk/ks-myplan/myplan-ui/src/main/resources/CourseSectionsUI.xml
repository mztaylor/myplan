<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">
    <!--
     Copyright 2007-2009 The Kuali Foundation

     Licensed under the Educational Community License, Version 2.0 (the "License");
     you may not use this file except in compliance with the License.
     You may obtain a copy of the License at

     http://www.opensource.org/licenses/ecl2.php

     Unless required by applicable law or agreed to in writing, software
     distributed under the License is distributed on an "AS IS" BASIS,
     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     See the License for the specific language governing permissions and
     limitations under the License.
    -->

    <bean id="CourseSections-InquiryView" parent="MyPlanBaseInquiryView">
        <property name="headerText" value="Course Sections"/>
        <property name="viewName" value="CourseSections-InquiryView"/>
        <property name="dataObjectClassName" value="org.kuali.student.myplan.course.dataobject.CourseDetails"/>
        <property name="viewHelperServiceClass"
                  value="org.kuali.student.myplan.course.service.CourseDetailsInquiryHelperImpl"/>
        <property name="page.header.render" value="false"/>
        <property name="header.render" value="false"/>
        <property name="footer.render" value="false"/>
        <property name="singlePageView" value="true"/>
        <property name="items">
            <list>
                <bean parent="Uif-Page" p:id="course_sections_page">
                    <property name="layoutManager">
                        <bean parent="Uif-VerticalBoxLayout"/>
                    </property>
                    <property name="items">
                        <list>
                            <bean p:id="@{dataObject.courseSummaryDetails.courseId}_sections_collection"
                                  parent="course_details_institution_data_single">
                                <property name="onDocumentReadyScript"
                                          value="myplanGetSectionEnrollment('/student/myplan/plan/enroll', {'courseId':'@{dataObject.courseSummaryDetails.courseId}','atpId':readUrlParam('term_atp_id')}, '@{dataObject.courseSummaryDetails.courseId}_sections_collection');"/>
                                <property name="render" value="true"/>
                                <property name="header.render" value="false"/>
                                <property name="items">
                                    <list>
                                        <bean parent="Uif-MessageField" p:messageText="@{#line.name}"
                                              p:render="@{dataObject.courseOfferingInstitutionList.size() gt 1}"/>
                                    </list>
                                </property>
                                <property name="subCollections">
                                    <list>
                                        <bean parent="course_details_term_data">
                                            <property name="subCollections">
                                                <list>
                                                    <bean parent="course_details_activity_data">
                                                        <property name="style" value=""/>
                                                        <property name="header.render" value="false"/>
                                                        <property name="layoutManager.richTable.templateOptions">
                                                            <map merge="true">
                                                                <entry key="aoColumns" value="[
                                                                       {},
                                                                       {},
                                                                       {},
                                                                       {'sType':'string'},
                                                                       {},
                                                                       {},
                                                                       {}
                                                                ]"/>
                                                            </map>
                                                        </property>
                                                        <property name="items">
                                                            <list>
                                                                <bean parent="Uif-VerticalFieldGroup" p:label="Section">
                                                                    <property name="group.validationMessages.render"
                                                                              value="false"/>
                                                                    <property name="cssClasses">
                                                                        <list merge="true">
                                                                            <value>fl-text-align-center</value>
                                                                            <value>activityCode</value>
                                                                            <value>@{#line.planItemId ne null ?
                                                                                'myplan-section-planned':''}
                                                                            </value>
                                                                        </list>
                                                                    </property>
                                                                    <property name="items">
                                                                        <list>
                                                                            <bean p:id="@{#line.atpId.replace('.','-')}-@{#line.registrationCode}"
                                                                                  parent="Uif-DataField"
                                                                                  p:propertyName="code"
                                                                                  p:label="Section"
                                                                                  p:style="margin:4px 0; font-size:@{!#line.primary ? '1.75em;':'2.6em; line-height:25px;'}">
                                                                                <property name="fieldLabel.render"
                                                                                          value="false"/>
                                                                                <property name="onDocumentReadyScript"
                                                                                          value="
                                                                                    var sectionCell = jQuery('#@{#line.atpId.replace('.','-')}-@{#line.registrationCode}').parents('td');
                                                                                    if (sectionCell.hasClass('myplan-section-planned')) {
                                                                                        sectionCell.parents('tr').addClass('myplan-section-planned');
                                                                                    }
                                                                                "/>
                                                                            </bean>
                                                                            <bean p:id="@{dataObject.courseSummaryDetails.courseId}-@{#line.code}-@{#line.registrationCode}"
                                                                                  parent="Uif-ActionLink"
                                                                                  p:actionLabel="View more"
                                                                                  p:style="margin:0 0 4px 0;"
                                                                                  p:render="@{!#line.primary}">
                                                                                <property name="actionScript" value="
                                                                                    if(jQuery(this).hasClass('disabled')){return false;}
                                                                                    expandDataTableDetail(this, '@{dataObject.courseSummaryDetails.courseId}_@{#line.atpId.replace('.','-')}', false, 'View more', 'View less');
                                                                                "/>
                                                                                <property name="cssClasses">
                                                                                    <list merge="true">
                                                                                        <value>fl-font-size-80</value>
                                                                                    </list>
                                                                                </property>
                                                                            </bean>
                                                                            <bean parent="Uif-MessageField"
                                                                                  p:messageText="PCE"
                                                                                  p:style="margin:0;"
                                                                                  p:title="UW Professional &amp; Continuing Education"
                                                                                  p:render="@{#line.primary AND #line.instituteCode.startsWith('95')}">
                                                                                <property name="cssClasses">
                                                                                    <list merge="true">
                                                                                        <value>fl-font-size-80</value>
                                                                                    </list>
                                                                                </property>
                                                                            </bean>
                                                                            <bean p:id="@{dataObject.courseSummaryDetails.courseId}-@{#line.code}-@{#line.registrationCode}"
                                                                                  parent="Uif-ActionLink"
                                                                                  p:actionLabel="View more"
                                                                                  p:render="@{#line.primary}">
                                                                                <property name="onDocumentReadyScript"
                                                                                          value="
                                                                                    jQuery('#@{dataObject.courseSummaryDetails.courseId}-@{#line.code}-@{#line.registrationCode}').subscribe('DATATABLE_INITIALISED', function(data) {
                                                                                        showDataTableDetail(this,'@{dataObject.courseSummaryDetails.courseId}_@{#line.atpId.replace('.','-')}',false);
                                                                                        jQuery(this).parents('tr').css('border-top-width','3px');
                                                                                        jQuery(this).parents('tr').next('tr').children('td.uif-rowDetails').parents('tr').css('border-bottom','solid 3px #ccc');
                                                                                    });
                                                                                "/>
                                                                                <property name="actionScript" value=""/>
                                                                            </bean>
                                                                            <bean parent="Uif-VerticalBoxSection"
                                                                                  p:style="margin:0 24px 0 56px; display:none;">
                                                                                <property name="header.render"
                                                                                          value="false"/>
                                                                                <property
                                                                                        name="validationMessages.render"
                                                                                        value="false"/>
                                                                                <property name="items">
                                                                                    <list>
                                                                                        <bean parent="Uif-HorizontalBoxGroup">
                                                                                            <property
                                                                                                    name="validationMessages.render"
                                                                                                    value="false"/>
                                                                                            <property name="style"
                                                                                                      value="margin:0; background:url('../ks-myplan/images/bkgrdDottedCCC.png') 351px 0px repeat-y;"/>
                                                                                            <property name="items">
                                                                                                <list>
                                                                                                    <bean parent="Uif-DataField"
                                                                                                          p:propertyName="instructor"
                                                                                                          p:label="Instructor"
                                                                                                          p:labelPlacement="TOP"
                                                                                                          p:style="width:343px;">
                                                                                                        <property
                                                                                                                name="fieldLabel.renderColon"
                                                                                                                value="false"/>
                                                                                                    </bean>
                                                                                                    <bean parent="Uif-VerticalFieldGroup"
                                                                                                          p:label="Other"
                                                                                                          p:style="width:186px;"
                                                                                                          p:labelPlacement="TOP">
                                                                                                        <property
                                                                                                                name="fieldLabel.renderColon"
                                                                                                                value="false"/>
                                                                                                        <property
                                                                                                                name="group.validationMessages.render"
                                                                                                                value="false"/>
                                                                                                        <property
                                                                                                                name="items">
                                                                                                            <list>
                                                                                                                <bean parent="Uif-Message"
                                                                                                                      p:messageText="@{#line.gradingOption}"
                                                                                                                      p:render="@{#line.gradingOption ne null}"/>
                                                                                                                <bean parent="Uif-Message"
                                                                                                                      p:messageText="Distance learning"
                                                                                                                      p:render="@{#line.distanceLearning}"/>
                                                                                                                <bean parent="Uif-Message"
                                                                                                                      p:messageText="Honors"
                                                                                                                      p:render="@{#line.honorsSection}"/>
                                                                                                                <bean parent="Uif-Message"
                                                                                                                      p:messageText="Jointly offered"
                                                                                                                      p:render="@{#line.jointOffering}"/>
                                                                                                                <bean parent="Uif-Message"
                                                                                                                      p:messageText="Research"
                                                                                                                      p:render="@{#line.research}"/>
                                                                                                                <bean parent="Uif-Message"
                                                                                                                      p:messageText="Writing"
                                                                                                                      p:render="@{#line.writingSection}"/>
                                                                                                                <bean parent="Uif-Message"
                                                                                                                      p:messageText="Service learning"
                                                                                                                      p:render="@{#line.serviceLearning}"/>
                                                                                                                <bean parent="Uif-Message"
                                                                                                                      p:messageText="New course"
                                                                                                                      p:render="@{#line.newThisYear}"/>
                                                                                                                <bean parent="Uif-Message"
                                                                                                                      p:messageText="May not be eligible for Financial Aid"
                                                                                                                      p:render="@{#line.ineligibleForFinancialAid}"/>
                                                                                                                <bean parent="Uif-Message"
                                                                                                                      p:messageText="Course Fee $@{#line.feeAmount}"
                                                                                                                      p:render="@{#line.feeAmount ne null}"/>
                                                                                                                <bean parent="Uif-Message"
                                                                                                                      p:messageText="--"
                                                                                                                      p:render="@{#line.gradingOption eq null AND
                                                                                                                                 !#line.distanceLearning AND
                                                                                                                                 !#line.honorsSection AND
                                                                                                                                 !#line.jointOffering AND
                                                                                                                                 !#line.research AND
                                                                                                                                 !#line.writingSection AND
                                                                                                                                 !#line.serviceLearning AND
                                                                                                                                 !#line.newThisYear AND
                                                                                                                                 !#line.ineligibleForFinancialAid AND
                                                                                                                                 #line.feeAmount eq null  AND
                                                                                                                                 !#line.independentStudy}"/>
                                                                                                            </list>
                                                                                                        </property>
                                                                                                    </bean>
                                                                                                </list>
                                                                                            </property>
                                                                                        </bean>
                                                                                        <bean parent="Uif-HorizontalFieldGroup"
                                                                                              p:label="Section Details"
                                                                                              p:style="margin:0;">
                                                                                            <property
                                                                                                    name="fieldLabel.renderColon"
                                                                                                    value="false"/>
                                                                                            <property
                                                                                                    name="group.validationMessages.render"
                                                                                                    value="false"/>
                                                                                            <property name="items">
                                                                                                <list>
                                                                                                    <bean parent="Uif-Message"
                                                                                                          p:messageText="@{#line.summerTerm}&lt;br/&gt;"
                                                                                                          p:style="display:inline; margin:0; float:none;"
                                                                                                          p:render="@{#line.summerTerm ne null ? true : false}"/>
                                                                                                    <bean parent="Uif-Message"
                                                                                                          p:messageText="@{#line.sectionComments}"
                                                                                                          p:style="display:inline; margin:0; float:none;"/>
                                                                                                    <bean parent="current_section_status"
                                                                                                          p:actionLabel="@{#line.details}"
                                                                                                          p:style="display:inline; margin:0; float:none;"/>
                                                                                                </list>
                                                                                            </property>
                                                                                        </bean>
                                                                                    </list>
                                                                                </property>
                                                                            </bean>
                                                                        </list>
                                                                    </property>
                                                                </bean>
                                                                <bean parent="Uif-HorizontalFieldGroup"
                                                                      p:label="Type (Credit)">
                                                                    <property name="group.validationMessages.render"
                                                                              value="false"/>
                                                                    <property name="cssClasses">
                                                                        <list merge="true">
                                                                            <value>activityType</value>
                                                                        </list>
                                                                    </property>
                                                                    <property name="items">
                                                                        <list>
                                                                            <bean parent="Uif-DataField"
                                                                                  p:propertyName="activityOfferingType"
                                                                                  p:style="margin-right:0.33em; text-transform:capitalize;">
                                                                                <property name="fieldLabel.render"
                                                                                          value="false"/>
                                                                            </bean>
                                                                            <bean parent="Uif-Message"
                                                                                  p:messageText="(@{#line.credits})"
                                                                                  p:render="@{#line.primary}"
                                                                                  p:style="margin:0;"/>
                                                                        </list>
                                                                    </property>
                                                                </bean>
                                                                <bean parent="Uif-DataField"
                                                                      p:label="Meeting Time &amp; Location"
                                                                      p:propertyName="activityItem"
                                                                      p:escapeHtmlInPropertyValue="false">
                                                                    <property name="propertyEditor"
                                                                              ref="meeting_building_link_formatter"/>
                                                                    <property name="cssClasses">
                                                                        <list merge="true">
                                                                            <value>activityMeetingData</value>
                                                                        </list>
                                                                    </property>
                                                                </bean>
                                                                <bean parent="Uif-HorizontalFieldGroup" p:label="SLN">
                                                                    <property name="group.validationMessages.render"
                                                                              value="false"/>
                                                                    <property name="cssClasses">
                                                                        <list merge="true">
                                                                            <value>activityRegCode</value>
                                                                        </list>
                                                                    </property>
                                                                    <property name="items">
                                                                        <list>
                                                                            <bean parent="current_section_status"
                                                                                  p:actionLabel="@{#line.registrationCode}"/>
                                                                        </list>
                                                                    </property>
                                                                </bean>
                                                                <bean parent="Uif-HorizontalFieldGroup"
                                                                      p:label="ENRL RESTR">
                                                                    <property name="group.validationMessages.render"
                                                                              value="false"/>
                                                                    <property name="cssClasses">
                                                                        <list merge="true">
                                                                            <value>activityEnrlRestr</value>
                                                                        </list>
                                                                    </property>
                                                                    <property name="items">
                                                                        <list>
                                                                            <bean parent="Uif-Message"
                                                                                  p:messageText="Faculty Code Required"
                                                                                  p:render="@{#line.independentStudy}"
                                                                                  p:style="margin:0;"/>
                                                                            <bean parent="Uif-Message"
                                                                                  p:messageText="Add Code Required"
                                                                                  p:render="@{#line.addCodeRequired AND !#line.independentStudy}"
                                                                                  p:style="margin:0;"/>
                                                                            <bean parent="current_section_status"
                                                                                  p:actionLabel="View restrictions"
                                                                                  p:render="@{#line.enrollRestriction AND !#line.independentStudy AND !#line.addCodeRequired}"
                                                                                  p:style="margin:0;"/>
                                                                            <bean parent="Uif-Message"
                                                                                  p:messageText="--"
                                                                                  p:render="@{!#line.enrollRestriction AND !#line.addCodeRequired  AND !#line.independentStudy}"
                                                                                  p:style="margin:0;"/>
                                                                        </list>
                                                                    </property>
                                                                </bean>
                                                                <bean p:id="enrl_@{#line.atpId.replace('.','-')}_@{#line.registrationCode}"
                                                                      parent="Uif-HorizontalFieldGroup"
                                                                      p:label="ENRL / Limit">
                                                                    <property name="group.validationMessages.render"
                                                                              value="false"/>
                                                                    <property name="cssClasses">
                                                                        <list merge="true">
                                                                            <value>activityEnrlData</value>
                                                                        </list>
                                                                    </property>
                                                                    <property name="items">
                                                                        <list>
                                                                            <bean parent="Uif-Image"
                                                                                  p:source="@{#ConfigProperties['ks.myplan.externalizable.images.url']}pixel.gif"
                                                                                  p:style="margin:0;">
                                                                                <property name="cssClasses">
                                                                                    <list merge="true">
                                                                                        <value>myplan-enrl-data</value>
                                                                                    </list>
                                                                                </property>
                                                                            </bean>
                                                                        </list>
                                                                    </property>
                                                                </bean>

                                                                <!-- Add Button -->
                                                                <bean parent="section_button"
                                                                      p:render="@{#line.planItemId eq null AND !T(org.kuali.student.myplan.utils.UserSessionHelper).isAdviser()}">
                                                                    <property name="onClickScript"
                                                                              value="myplanAjaxSubmitSectionItem('@{dataObject.courseSummaryDetails.courseId}', 'addPlannedCourse', 'plan', {courseId:'@{dataObject.courseSummaryDetails.courseId}',sectionCode:'@{#line.code}',atpId:'@{#line.atpId}',instituteCode:@{#line.instituteCode},registrationCode:'@{#line.registrationCode}',primary:@{#line.primary},viewId:'PlannedCourse-FormView'}, e);"/>
                                                                    <property name="cssClasses">
                                                                        <list merge="true">
                                                                            <value>activityAction</value>
                                                                            <value>myplan-add</value>
                                                                            <value>fl-text-align-center</value>
                                                                        </list>
                                                                    </property>
                                                                    <property name="dataAttributes">
                                                                        <map merge="true">
                                                                            <entry key="initial" value="false"/>
                                                                        </map>
                                                                    </property>
                                                                </bean>

                                                                <!-- Delete Button -->
                                                                <bean parent="section_button"
                                                                      p:render="@{#line.planItemId ne null AND !T(org.kuali.student.myplan.utils.UserSessionHelper).isAdviser()}">
                                                                    <property name="onClickScript"
                                                                              value="myplanAjaxSubmitSectionItem('@{#line.planItemId}', 'removeItem', 'plan', {planItemId:'@{#line.planItemId}',sectionCode:'@{#line.code}',atpId:'@{#line.atpId}',instituteCode:@{#line.instituteCode},registrationCode:'@{#line.registrationCode}',primary:@{#line.primary},viewId:'PlannedCourse-FormView'}, e);"/>
                                                                    <property name="cssClasses">
                                                                        <list merge="true">
                                                                            <value>activityAction</value>
                                                                            <value>myplan-delete</value>
                                                                            <value>fl-text-align-center</value>
                                                                        </list>
                                                                    </property>
                                                                    <property name="dataAttributes">
                                                                        <map merge="true">
                                                                            <entry key="initial" value="false"/>
                                                                        </map>
                                                                    </property>
                                                                </bean>

                                                                <!--For Advisers-->
                                                                <bean parent="Uif-MessageField" p:messageText="--"
                                                                      p:render="@{T(org.kuali.student.myplan.utils.UserSessionHelper).isAdviser()}">
                                                                    <property name="cssClasses">
                                                                        <list merge="true">
                                                                            <value>activityAction</value>
                                                                        </list>
                                                                    </property>
                                                                </bean>

                                                            </list>
                                                        </property>
                                                    </bean>
                                                </list>
                                            </property>
                                        </bean>
                                    </list>
                                </property>
                            </bean>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

</beans>