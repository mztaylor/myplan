<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

    <bean id="QuickAdd-FormView" parent="MyPlanBaseView">
        <property name="id" value="QuickAdd-FormView"/>
        <property name="breadcrumbs.render" value="false"/>
        <property name="applyDirtyCheck" value="false"/>
        <property name="header.render" value="false"/>
        <property name="cssClasses">
            <list merge="true">
                <value>base-view</value>
            </list>
        </property>
        <property name="items">
            <list>
                <bean parent="Uif-Page" p:id="quickAdd_dialog_page">
                    <property name="cssClasses">

                        <list merge="true">
                            <value>fl-container-300</value>
                        </list>
                    </property>
                    <property name="layoutManager">
                        <bean parent="Uif-VerticalBoxLayout"/>
                    </property>
                    <property name="items">
                        <list>
                            <ref bean="quick_add_dialog"/>
                            <bean id="quickAdd_button" parent="Uif-HorizontalBoxGroup"
                                  p:validationMessages.render="false">
                                <property name="items">
                                    <list>
                                        <bean parent="Uif-HorizontalFieldGroup" p:fieldLabel.render="false"
                                              p:group.validationMessages.render="false">
                                            <property name="items">
                                                <list>
                                                    <ref bean="quickAddCourse"/>
                                                    <ref bean="cancelQuickAddCourse"/>
                                                </list>
                                            </property>
                                        </bean>
                                    </list>
                                </property>
                            </bean>
                        </list>
                    </property>
                </bean>
                <ref bean="quick_add_action_response_page"/>
            </list>
        </property>
        <property name="footer.render" value="false"/>
        <property name="formClass" value="org.kuali.student.myplan.quickAdd.form.QuickAddForm"/>
    </bean>


    <bean id="quick_add_action_response_page" parent="Uif-Page" p:id="quick_add_action_response_page">
        <property name="validationMessages">
            <bean parent="Uif-GroupValidationMessages">
                <property name="displayMessages" value="true"/>
                <property name="displayFieldLabelWithMessages" value="false"/>
            </bean>
        </property>
        <property name="items">
            <list>
                <ref bean="quick_add_actions_response"/>
            </list>
        </property>
    </bean>
    <bean id="quick_add_actions_response" parent="Uif-VerticalBoxSection">
        <property name="items">
            <list>
                <bean id="request_status_item_key" parent="Uif-DataField" p:propertyName="requestStatus"/>
                <bean id="json_events_item_key" parent="Uif-DataField" p:propertyName="javascriptEventsAsJSON"/>
            </list>
        </property>
    </bean>

    <bean id="quick_add_dialog" parent="Uif-HorizontalBoxSubSection" p:headerText="Quick Add">
        <property name="items">
            <list>
                <bean id="search_text_box" parent="Uif-InputField" p:propertyName="courseCd"
                      p:fieldLabel.render="false">
                    <property name="control">
                        <bean parent="Uif-TextControl" p:maxLength="10" p:watermarkText="e.g. COM 210, Math 124">
                        </bean>
                    </property>
                </bean>
            </list>
        </property>
    </bean>
    <bean id="quickAddCourse" p:id="quickAddCourse" parent="Uif-PrimaryActionButton-Small"
          p:actionLabel="Add">
        <property name="actionScript"
                  value="myplanAjaxSubmitQuickAdd('quick_Add',{ atpId:'@{atpId}',planType:'@{planType}'},'quickAddCourse',e);"/>
        <property name="onDocumentReadyScript" value="
                                    jQuery('#quickAddCourse')
                                        .subscribe('PLAN_ITEM_ADDED', function(data){
                                                fnDisplayMessage(data.message, data.cssClass, 'quickAddCourse', true, true);
                                        })
                                        .subscribe('ERROR', function(data){
                                            fnDisplayMessage(data.message, data.cssClass, 'quickAddCourse', true, true);
                                        });"/>
    </bean>
    <bean id="cancelQuickAddCourse" p:id="cancelQuickAddCourse" parent="Uif-SecondaryActionButton-Small"
          p:actionLabel="Cancel">
        <property name="actionScript"
                  value="fnCloseAllPopups();"/>
    </bean>


</beans>