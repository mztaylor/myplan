<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">
    <!--
     Copyright 2007-2009 The Kuali Foundation

     Licensed under the Educational Community License, Version 2.0 (the "License");
     you may not use this file except in compliance with the License.
     You may obtain a copy of the License at

     http://www.opensource.org/licenses/ecl2.php

     Unless required by applicable law or agreed to in writing, software
     distributed under the License is distributed on an "AS IS" BASIS,
     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     See the License for the specific language governing permissions and
     limitations under the License.
    -->
    <bean id="CourseDetails-InquiryView" parent="MyPlanInquiryView">
        <property name="headerText" value="Course Details"/>
        <property name="dataObjectClassName" value="org.kuali.student.myplan.course.dataobject.CourseDetails"/>
        <property name="viewHelperServiceClass"
                  value="org.kuali.student.myplan.course.service.CourseDetailsInquiryViewHelperServiceImpl"/>
        <property name="page.header.render" value="false"/>
        <property name="header.render" value="false"/>
        <property name="footer.render" value="false"/>
        <property name="singlePageView" value="true"/>
        <property name="cssClasses">
            <list merge="true">
                <value>myplan-view</value>
            </list>
        </property>
        <property name="header">
            <ref bean="course_details_back_link"/>
        </property>
        <property name="Items">
            <list>
                <bean parent="Uif-Page" p:id="course_details_page"
                      p:headerText="@{dataObject.code} @{dataObject.courseTitle} (@{dataObject.credit})">
                    <property name="layoutManager">
                        <bean parent="Uif-HorizontalBoxLayout"/>
                    </property>
                    <property name="items">
                        <list>
                            <ref bean="course_details_section"/>
                            <ref bean="myplan_section"/>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>
    <bean id="course_details_back_link" parent="Uif-ViewHeader">
        <property name="upperGroup">
            <bean parent="Uif-VerticalBoxSubSection" p:style="float:none;">
                <property name="items">
                    <list>
                        <bean parent="Uif-Link" p:linkText="Back to Previous Page" p:href="javascript:history.go(-1)"
                              p:style="display:block; margin:1em 0;"/>
                    </list>
                </property>
            </bean>
        </property>

    </bean>

    <bean id="course_details_section" parent="Uif-VerticalBoxSubSection" p:style="width: 710px; margin-right: 10px;">
        <property name="items">
            <list>
                <bean parent="Uif-VerticalBoxGroup" p:validationMessages.render="false">
                    <property name="items">
                        <list>
                            <ref bean="course_details_actions"/>

                            <bean id="course_details_page_messaging" parent="Uif-VerticalBoxGroup"
                                  p:validationMessages.render="false"
                                  p:render="@{(dataObject.backupList.size() gt 0 or dataObject.plannedList.size() gt 0 or dataObject.academicTerms.size() gt 0) ? true : false}">
                                <property name="cssClasses">
                                    <list merge="true">
                                        <value>myplan-status</value>
                                        <value>info</value>
                                    </list>
                                </property>
                                <property name="items">
                                    <list>
                                        <bean parent="Uif-HorizontalFieldGroup" p:fieldLabel.render="false"
                                              p:style="margin:0;" p:group.validationMessages.render="false">
                                            <property name="items">
                                                <list>
                                                    <bean parent="MyPlanMessagingIcon"/>
                                                    <bean parent="Uif-DataField"
                                                          p:propertyName="details"
                                                          p:fieldLabel.cssClasses="fl-text-gray myplan-text-normal"
                                                          p:labelPlacement="LEFT" p:escapeHtmlInPropertyValue="false">
                                                        <property name="propertyEditor"
                                                                  ref="crud_message_matrix_formatter"/>
                                                        <property name="cssClasses">
                                                            <list merge="true">
                                                                <value>myplan-data-list</value>
                                                                <value>message</value>
                                                            </list>
                                                        </property>
                                                    </bean>
                                                </list>
                                            </property>
                                        </bean>
                                    </list>
                                </property>
                            </bean>
                            <ref bean="course_details_overview"/>
                            <!--<ref bean="course_details_links"/>-->

                            <ref bean="course_details_institution_data_single"/>
                            <ref bean="course_details_institution_data_multi"/>
                            <!-- <ref bean="course_details_sections"/> -->
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>
    <bean id="course_details_actions" parent="Uif-HorizontalBoxGroup" p:style="margin-bottom: 25px;"
          p:validationMessages.render="false">
        <property name="onDocumentReadyScript"
                  value="
                      jQuery('#course_details_actions')
                          .subscribe('PLAN_ITEM_ADDED', function(data){
                              if (data.planItemType === 'wishlist') {
                                  fnDisplayMessage(data.message, data.cssClass, data.courseDetails.courseId+'_addSavedCourse', true, null, false, '@{dataObject.courseId}_bookmarked');
                              }
                          })
                          .subscribe('PLAN_ITEM_DELETED', function(data){
                              if (data.planItemType === 'wishlist' &amp;&amp; data.courseDetails.courseId === '@{dataObject.courseId}') {
                                  fnRestoreDetailsAddButton(data.courseDetails.courseId);
                              }
                          });"/>
        <property name="items">
            <list>
                <bean parent="Uif-PrimaryActionButton" p:actionLabel="Add to Plan"
                      p:id="@{dataObject.courseId}_addPlannedCourse" p:actionImagePlacement="RIGHT">
                    <property name="actionImage">
                        <bean parent="Uif-Image"
                              p:source="@{#ConfigProperties['ks.myplan.externalizable.images.url']}pixel.gif">
                            <property name="cssClasses">
                                <list merge="true">
                                    <value>rightArrowLarge</value>
                                </list>
                            </property>
                        </bean>
                    </property>
                    <property name="actionScript"
                              value="openPlanItemPopUp('@{dataObject.courseId}','add_dialog_page',{courseId:'@{dataObject.courseId}',pageId:'add_dialog_page', moveCourse:'false'},e,null,{tail:{hidden:true},position:'right',align:'top'});"/>
                </bean>
                <bean parent="Uif-SecondaryActionButton" p:actionLabel="Bookmark Course"
                      p:id="@{dataObject.courseId}_addSavedCourse"
                      p:render="@{dataObject.inSavedCourseList ? false : true}">
                    <property name="onDocumentReadyScript"
                              value="
                              jQuery('#@{dataObject.courseId}_addSavedCourse')
                                  .subscribe('PLAN_ITEM_ADDED', function(data){
                                      if (data.planItemType === 'wishlist') {
                                          fnDisplayMessage(data.message, data.cssClass, data.courseDetails.courseId+'_addSavedCourse', true, null, false, '@{dataObject.courseId}_bookmarked');
                                      }
                                  })
                                  .subscribe('PLAN_ITEM_DELETED', function(data){
                                      if (data.planItemType === 'wishlist' &amp;&amp; data.courseDetails.courseId === '@{dataObject.courseId}') {
                                          fnRestoreDetailsAddButton(data.courseDetails.courseId);
                                      }
                                  });"/>
                    <property name="actionScript"
                              value="myPlanAjaxPlanItemMove('@{dataObject.courseId}', 'courseId', 'addSavedCourse', e);"/>
                </bean>
                <bean parent="Uif-LinkGroup" p:id="@{dataObject.courseId}_bookmarked"
                      p:render="@{dataObject.savedItemId ne null and dataObject.plannedList.size() eq 0 and dataObject.backupList.size() eq 0 and dataObject.academicTerms.size() eq 0 ? true : false}"
                      p:groupBeginDelimiter="" p:groupEndDelimiter="" p:linkSeparator="">
                    <!--<property name="onDocumentReadyScript"
                              value="jQuery('#@{dataObject.courseId}_bookmarked').subscribe('PLAN_ITEM_DELETED', function(data){
                                  if (data.planItemType === 'wishlist' &amp;&amp; data.courseDetails.courseId === '@{dataObject.courseId}') {
                                      fnRestoreDetailsAddButton(data.courseDetails.courseId);
                                  }
                              });"/>-->
                    <property name="cssClasses">
                        <list merge="true">
                            <value>myplan-status</value>
                            <value>info</value>
                        </list>
                    </property>
                    <property name="items">
                        <list>
                            <bean parent="Uif-Link" p:linkText="Bookmarked"
                                  p:href="lookup?methodToCall=search&amp;viewId=SavedCoursesDetail-LookupView"
                                  p:title="Bookmarked" p:target="" p:style="margin: 0px;"/>
                            <bean parent="Uif-Message"
                                  p:messageText="on @{dataObject.savedItemDateCreated}">
                            </bean>

                        </list>
                    </property>
                </bean>
            </list>
        </property>
        <property name="propertyReplacers">
            <list>
                <bean parent="Uif-ConditionalBeanPropertyReplacer" p:propertyName="items"
                      p:condition="T(org.kuali.student.myplan.utils.UserSessionHelper).isAdviser()">
                    <property name="replacement">
                        <list>
                            <ref bean="course_adviser_actions_message"/>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <bean id="course_details_overview" parent="Uif-GridGroup" p:headerText="Course Overview">
        <property name="header">
            <bean parent="Uif-HeaderThree">
                <property name="cssClasses">
                    <list merge="true">
                        <value>myplan-underline-header</value>
                    </list>
                </property>
            </bean>
        </property>
        <property name="header.rightGroup">
            <bean parent="Uif-HorizontalBoxGroup" p:validationMessages.render="false">
                <property name="items">
                    <list>
                        <bean parent="Uif-DataField" p:propertyName="abbrGenEdRequirements"
                              p:fieldLabel.render="false" p:escapeHtmlInPropertyValue="false">
                            <property name="cssClasses">
                                <list merge="true">
                                    <value>myplan-data-list</value>
                                    <value>fl-text-gray</value>
                                    <value>myplan-text-normal</value>
                                </list>
                            </property>
                            <property name="propertyEditor" ref="data_list_formatter"/>
                        </bean>
                    </list>
                </property>
            </bean>
        </property>
        <property name="header.rightGroup.render"
                  value="@{dataObject.abbrGenEdRequirements.size() gt 0 ? true : false}"/>
        <property name="cssClasses">
            <list merge="true">
                <value>myplan-course-details</value>
            </list>
        </property>
        <property name="layoutManager.numberOfColumns" value="2"/>
        <property name="layoutManager.applyDefaultCellWidths" value="false"/>
        <property name="items">
            <list>
                <bean parent="Uif-VerticalBoxGroup" p:validationMessages.render="false">
                    <property name="cssClasses">
                        <list merge="true">
                            <value>myplan-course-details</value>
                        </list>
                    </property>
                    <property name="items">
                        <list>
                            <!--Course Description-->
                            <bean parent="Uif-HorizontalFieldGroup" p:fieldLabel.renderColon="false"
                                  p:group.validationMessages.render="false">
                                <property name="items">
                                    <list>
                                        <bean parent="Uif-HorizontalBoxGroup" p:validationMessages.render="false">
                                            <property name="cssClasses">
                                                <list merge="true">
                                                    <value>myplan-course-detail-label</value>
                                                </list>
                                            </property>
                                            <property name="items">
                                                <list>
                                                    <bean parent="Uif-Label" p:labelText="Course Description"
                                                          p:renderColon="false"/>
                                                </list>
                                            </property>
                                        </bean>
                                        <bean parent="Uif-HorizontalBoxGroup" p:validationMessages.render="false">
                                            <property name="cssClasses">
                                                <list merge="true">
                                                    <value>myplan-course-detail-field</value>
                                                </list>
                                            </property>
                                            <property name="items">
                                                <list>
                                                    <bean parent="Uif-DataField" p:fieldLabel.render="false"
                                                          p:propertyName="courseDescription"
                                                          p:escapeHtmlInPropertyValue="false">
                                                        <property name="render"
                                                                  value="@{dataObject.courseDescription ne null and dataObject.courseDescription.length() gt 0 ? true : false}"/>
                                                    </bean>
                                                    <!-- If Course Description is empty-->
                                                    <bean parent="Uif-Message"
                                                          p:messageText="This course has no description.">
                                                        <property name="render"
                                                                  value="@{dataObject.courseDescription ne null and dataObject.courseDescription.length() gt 0 ? false : true}"/>
                                                    </bean>
                                                </list>
                                            </property>
                                        </bean>

                                    </list>
                                </property>
                            </bean>

                            <!--Course Requisites-->
                            <bean parent="Uif-HorizontalFieldGroup" p:fieldLabel.renderColon="false"
                                  p:group.validationMessages.render="false">

                                <property name="items">
                                    <list>
                                        <bean parent="Uif-HorizontalBoxGroup" p:validationMessages.render="false">
                                            <property name="cssClasses">
                                                <list merge="true">
                                                    <value>myplan-course-detail-label</value>
                                                </list>
                                            </property>
                                            <property name="items">
                                                <list>
                                                    <bean parent="Uif-Label" p:labelText="Course Requisites"
                                                          p:renderColon="false"/>
                                                    <ref bean="course_requisite_help_icon"/>
                                                </list>
                                            </property>
                                        </bean>
                                        <bean parent="Uif-HorizontalBoxGroup" p:validationMessages.render="false">
                                            <property name="cssClasses">
                                                <list merge="true">
                                                    <value>myplan-course-detail-field</value>
                                                </list>
                                            </property>
                                            <property name="items">
                                                <list>
                                                    <bean parent="Uif-DataField" p:propertyName="requisites"
                                                          p:fieldLabel.render="false"
                                                          p:escapeHtmlInPropertyValue="false">
                                                        <property name="propertyEditor" ref="data_list_formatter"/>
                                                        <property name="cssClasses">
                                                            <list merge="true">
                                                                <value>myplan-data-list</value>
                                                            </list>
                                                        </property>
                                                    </bean>
                                                    <bean parent="Uif-Message" p:messageText="(Source: Course Catalog)"
                                                          p:style="line-height: 20px;">
                                                        <property name="cssClasses">
                                                            <list merge="true">
                                                                <value>fl-font-size-80</value>
                                                                <value>fl-text-gray</value>
                                                            </list>
                                                        </property>
                                                    </bean>
                                                </list>
                                            </property>
                                        </bean>


                                        <!--<bean parent="Uif-LinkGroup"
                                              p:groupBeginDelimiter="(Source:" p:groupEndDelimiter=")" p:linkSeparator="">
                                            <property name="cssClasses">
                                                <list merge="true">
                                                    <value>fl-font-size-90</value>
                                                    <value>fl-text-gray</value>
                                                </list>
                                            </property>
                                            <property name="items">
                                            <list>
                                              <bean parent="Uif-Link" p:linkText="Course Catalog" p:href="http://www.washington.edu/students/crscat/"
                                                    p:headerText="Course Catalog" p:target="" p:fieldLabel.render="false"/>
                                            </list>
                                          </property>
                                        </bean>-->
                                    </list>
                                </property>
                            </bean>
                            <!--Quarters-->
                            <bean parent="Uif-HorizontalFieldGroup" p:fieldLabel.renderColon="false"
                                  p:group.validationMessages.render="false">

                                <property name="items">
                                    <list>
                                        <bean parent="Uif-HorizontalBoxGroup" p:validationMessages.render="false">
                                            <property name="cssClasses">
                                                <list merge="true">
                                                    <value>myplan-course-detail-label</value>
                                                </list>
                                            </property>
                                            <property name="items">
                                                <list>
                                                    <bean parent="Uif-Label" p:labelText="Quarters"
                                                          p:renderColon="false"/>
                                                    <ref bean="course_quarter_help_icon"/>
                                                </list>
                                            </property>
                                        </bean>
                                        <bean parent="Uif-VerticalBoxGroup" p:validationMessages.render="false">
                                            <property name="cssClasses">
                                                <list merge="true">
                                                    <value>myplan-course-detail-field</value>
                                                </list>
                                            </property>
                                            <property name="items">
                                                <list>
                                                    <bean parent="Uif-HorizontalBoxGroup"
                                                          p:validationMessages.render="false">
                                                        <property name="items">
                                                            <list>
                                                                <bean parent="Uif-DataField" p:label="Scheduled For"
                                                                      p:fieldLabel.cssClasses="fl-text-gray myplan-text-normal"
                                                                      p:propertyName="courseOfferingInstitutionList"
                                                                      p:escapeHtmlInPropertyValue="false"
                                                                      p:render="@{dataObject.courseOfferingInstitutionList.size() gt 0}">
                                                                    <property name="propertyEditor"
                                                                              ref="scheduled_terms_list_formatter"/>
                                                                    <property name="cssClasses">
                                                                        <list merge="true">
                                                                            <value>myplan-data-list</value>
                                                                        </list>
                                                                    </property>
                                                                </bean>
                                                                <bean parent="Uif-Message" p:style="line-height: 20px;"
                                                                      p:messageText="Not Currently Scheduled"
                                                                      p:render="@{dataObject.courseOfferingInstitutionList.size() eq 0}">
                                                                </bean>
                                                                <bean parent="Uif-Message" p:style="line-height: 20px;"
                                                                      p:messageText="(Source: Time Schedule)">
                                                                    <property name="cssClasses">
                                                                        <list merge="true">
                                                                            <value>fl-font-size-80</value>
                                                                            <value>fl-text-gray</value>
                                                                        </list>
                                                                    </property>
                                                                </bean>
                                                            </list>
                                                        </property>
                                                    </bean>
                                                    <bean parent="Uif-VerticalBoxGroup"
                                                          p:validationMessages.render="false" p:style="margin:0;"
                                                          p:render="@{dataObject.courseOfferingInstitutionList.size() gt 0 ? false : true}">
                                                        <property name="items">
                                                            <list>
                                                                <bean parent="Uif-DataField"
                                                                      p:propertyName="lastOffered"
                                                                      p:label="Last Offered"
                                                                      p:fieldLabel.cssClasses="fl-text-gray myplan-text-normal"
                                                                      p:render="@{dataObject.lastOffered ne null ? true : false}"/>
                                                            </list>
                                                        </property>
                                                    </bean>
                                                    <bean parent="Uif-HorizontalBoxGroup"
                                                          p:validationMessages.render="false" p:style="margin:0;">
                                                        <property name="items">
                                                            <list>
                                                                <!--<bean parent="Uif-Message"
                                                                      p:messageText="Projected to be offered in "
                                                                      p:render="@{dataObject.termsOffered.size() gt 0 ? true : false}"
                                                                      p:style="margin: 0 0.33em 0 0;"/>-->
                                                                <bean parent="Uif-DataField" p:label="Projected For"
                                                                      p:fieldLabel.cssClasses="fl-text-gray myplan-text-normal"
                                                                      p:propertyName="termsOffered"
                                                                      p:escapeHtmlInPropertyValue="false">
                                                                    <property name="propertyEditor"
                                                                              ref="terms_formatter"/>
                                                                    <property name="cssClasses">
                                                                        <list merge="true">
                                                                            <value>myplan-data-list</value>
                                                                        </list>
                                                                    </property>
                                                                </bean>
                                                                <!--<bean parent="Uif-Message" p:messageText="quarters"
                                                                      p:render="@{dataObject.termsOffered.size() gt 0 ? true : false}"/>-->
                                                                <bean parent="Uif-Message" p:style="line-height: 20px;"
                                                                      p:messageText="(Source: Course Catalog)">
                                                                    <property name="cssClasses">
                                                                        <list merge="true">
                                                                            <value>fl-font-size-80</value>
                                                                            <value>fl-text-gray</value>
                                                                        </list>
                                                                    </property>
                                                                </bean>
                                                            </list>
                                                        </property>
                                                    </bean>
                                                </list>
                                            </property>
                                        </bean>
                                    </list>
                                </property>
                            </bean>

                            <!--Credits-->
                            <!--<bean parent="Uif-HorizontalFieldGroup" p:fieldLabel.renderColon="false" p:group.validationMessages.render="false">
                                <property name="items">
                                    <list>
                                        <bean parent="Uif-HorizontalBoxGroup" p:validationMessages.render="false">
                                            <property name="cssClasses">
                                                <list merge="true">
                                                    <value>myplan-course-detail-label</value>
                                                </list>
                                            </property>
                                            <property name="items">
                                                <list>
                                                    <bean parent="Uif-Label" p:labelText="Credits"
                                                          p:renderColon="false"/>
                                                    <ref bean="course_credits_help_icon"/>
                                                </list>
                                            </property>
                                        </bean>
                                        <bean parent="Uif-HorizontalBoxGroup" p:validationMessages.render="false">
                                            <property name="cssClasses">
                                                <list merge="true">
                                                    <value>myplan-course-detail-field</value>
                                                </list>
                                            </property>
                                            <property name="items">
                                                <list>
                                                    <bean parent="Uif-DataField" p:propertyName="credit"
                                                          p:fieldLabel.render="false"
                                                          p:fieldLabel.renderColon="false">

                                                    </bean>
                                                </list>
                                            </property>
                                        </bean>

                                    </list>
                                </property>
                            </bean>-->

                            <!--Genedu-->
                            <bean parent="Uif-HorizontalFieldGroup" p:fieldLabel.renderColon="false"
                                  p:group.validationMessages.render="false">
                                <property name="items">
                                    <list>
                                        <bean parent="Uif-HorizontalBoxGroup" p:validationMessages.render="false">
                                            <property name="cssClasses">
                                                <list merge="true">
                                                    <value>myplan-course-detail-label</value>
                                                </list>
                                            </property>
                                            <property name="items">
                                                <list>
                                                    <bean parent="Uif-Label" p:labelText="General Edu. Req."
                                                          p:renderColon="false"/>
                                                    <ref bean="course_gened_help_icon"/>
                                                </list>
                                            </property>
                                        </bean>
                                        <bean parent="Uif-HorizontalBoxGroup" p:validationMessages.render="false">
                                            <property name="cssClasses">
                                                <list merge="true">
                                                    <value>myplan-course-detail-field</value>
                                                </list>
                                            </property>
                                            <property name="items">
                                                <list>
                                                    <bean parent="Uif-DataField"
                                                          p:propertyName="genEdRequirements"
                                                          p:fieldLabel.renderColon="false"
                                                          p:escapeHtmlInPropertyValue="false">
                                                        <property name="cssClasses">
                                                            <list merge="true">
                                                                <value>myplan-data-list</value>
                                                            </list>
                                                        </property>
                                                        <property name="propertyEditor"
                                                                  ref="data_list_formatter"/>
                                                    </bean>
                                                </list>
                                            </property>
                                        </bean>
                                    </list>
                                </property>
                            </bean>

                            <!--Curriculum-->
                            <bean parent="Uif-HorizontalFieldGroup" p:fieldLabel.renderColon="false"
                                  p:group.validationMessages.render="false">
                                <property name="items">
                                    <list>
                                        <bean parent="Uif-HorizontalBoxGroup" p:validationMessages.render="false">
                                            <property name="cssClasses">
                                                <list merge="true">
                                                    <value>myplan-course-detail-label</value>
                                                </list>
                                            </property>
                                            <property name="items">
                                                <list>
                                                    <bean parent="Uif-Label" p:labelText="Curriculum"
                                                          p:renderColon="false"/>
                                                </list>
                                            </property>
                                        </bean>
                                        <bean parent="Uif-HorizontalBoxGroup" p:validationMessages.render="false">
                                            <property name="cssClasses">
                                                <list merge="true">
                                                    <value>myplan-course-detail-field</value>
                                                </list>
                                            </property>
                                            <property name="items">
                                                <list>
                                                    <bean parent="Uif-DataField" p:style="margin:0;"
                                                          p:propertyName="curriculumTitle"
                                                          p:fieldLabel.render="false"
                                                          p:fieldLabel.renderColon="false">
                                                    </bean>
                                                    <bean parent="Uif-Message" p:messageText=", "
                                                          p:style="margin-right:0.33em;"
                                                          p:render="@{dataObject.campusLocations.size() gt 0 ? true : false}"/>
                                                    <bean parent="Uif-DataField" p:style="margin-right:0.33em;"
                                                          p:propertyName="campusLocations"
                                                          p:fieldLabel.renderColon="false"
                                                          p:escapeHtmlInPropertyValue="false"
                                                          p:render="@{dataObject.campusLocations.size() gt 0 ? true : false}">
                                                        <property name="cssClasses">
                                                            <list merge="true">
                                                                <value>myplan-data-list</value>
                                                            </list>
                                                        </property>
                                                        <property name="propertyEditor" ref="data_list_formatter"/>
                                                    </bean>
                                                    <bean parent="Uif-Message" p:messageText="Campus"
                                                          p:render="@{dataObject.campusLocations.size() gt 0 ? true : false}"/>
                                                </list>
                                            </property>
                                        </bean>
                                    </list>
                                </property>
                            </bean>

                            <!--Campus-->
                            <!--<bean parent="Uif-HorizontalFieldGroup" p:fieldLabel.renderColon="false" p:group.validationMessages.render="false">
                                <property name="items">
                                    <list>
                                        <bean parent="Uif-HorizontalBoxGroup" p:validationMessages.render="false">
                                            <property name="cssClasses">
                                                <list merge="true">
                                                    <value>myplan-course-detail-label</value>
                                                </list>
                                            </property>
                                            <property name="items">
                                                <list>
                                                    <bean parent="Uif-Label" p:labelText="Campus"
                                                          p:renderColon="false"/>
                                                </list>
                                            </property>
                                        </bean>
                                        <bean parent="Uif-HorizontalBoxGroup" p:validationMessages.render="false">
                                            <property name="cssClasses">
                                                <list merge="true">
                                                    <value>myplan-course-detail-field</value>
                                                </list>
                                            </property>
                                            <property name="items">
                                                <list>
                                                    <bean parent="Uif-DataField"
                                                          p:propertyName="campusLocations"
                                                          p:fieldLabel.renderColon="false"
                                                          p:escapeHtmlInPropertyValue="false">
                                                        <property name="cssClasses">
                                                            <list merge="true">
                                                                <value>myplan-data-list</value>
                                                            </list>
                                                        </property>
                                                        <property name="propertyEditor"
                                                                  ref="data_list_formatter"/>
                                                    </bean>
                                                </list>
                                            </property>
                                        </bean>
                                    </list>
                                </property>
                            </bean>-->
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <bean id="course_details_links" parent="Uif-VerticalBoxGroup" p:validationMessages.render="false">
        <property name="items">
            <list>
                <!-- The propertyEditor renders the time schedule info as a list of links. -->
                <!-- Lightbox Link -->
                <bean parent="Uif-DataField" p:propertyName="this" p:fieldLabel.render="false"
                      p:escapeHtmlInPropertyValue="false">
                    <property name="propertyEditor" ref="time_schedule_links_formatter"/>
                    <property name="cssClasses">
                        <list merge="true">
                            <value>myplan-stacked-list</value>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <!-- TODO: UW specific. Uses the student web service. -->
    <bean id="time_schedule_links_formatter"
          class="org.kuali.student.myplan.course.util.TimeScheduleLinksListPropertyEditor">
        <property name="baseUrl" value="https://www.washington.edu/students/timeschd/"/>
    </bean>

    <bean id="meeting_building_link_formatter"
          class="org.kuali.student.myplan.course.util.MeetingDetailsPropertyEditor">
    </bean>

    <!--<bean id="Advisor-FormView" parent="MyPlanBaseFormView">
        <property name="id" value="Advisor-FormView"/>
        <property name="footer.render" value="false"/>
        <property name="header.render" value="false"/>
        <property name="entryPageId" value="add_planned_course"/>
        <property name="formClass" value="org.kuali.rice.krad.web.form.UifFormBase"/>
        <property name="cssClasses">
            <list merge="true">
                <value>myplan-view</value>
            </list>
        </property>
        <property name="items">
            <list>
                <bean parent="Uif-Page" p:id="advisor_page" p:headerText="">
                    <property name="validationMessages">
                        <bean parent="Uif-GroupValidationMessages">
                            <property name="displayMessages" value="true"/>
                            <property name="displayFieldLabelWithMessages" value="false"/>
                        </bean>
                    </property>

                    <property name="items">
                        <list>
                            <bean parent="Uif-Message"
                                  p:messageText="Invalid RegId passed (or) Student has a private access to the Academic Plan">
                                <property name="cssClasses">
                                    <list merge="true">
                                        <value>fl-font-size-90</value>

                                    </list>
                                </property>
                            </bean>
                            <bean id="potal_page_link" parent="Uif-ViewHeader">
                                <property name="items">
                                    <bean parent="Uif-Link" p:linkText="Go to Home Page" p:href="/student/portal.do"
                                          p:style="display:block; margin:1em 0;"/>
                                </property>
                            </bean>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>-->

    <bean id="course_details_institution_data_single" parent="Uif-StackedCollectionGroup"
          p:validationMessages.render="false">
        <property name="collectionObjectClass"
                  value="org.kuali.student.myplan.course.dataobject.CourseOfferingInstitution"/>
        <property name="propertyName" value="courseOfferingInstitutionList"/>
        <property name="render" value="@{dataObject.courseOfferingInstitutionList.size() eq 1}"/>
        <property name="cssClasses">
            <list merge="true">
                <value>myplan-course-sections</value>
            </list>
        </property>
        <property name="layoutManager">
            <bean parent="Uif-StackedCollectionLayout-WithBoxItems">
                <property name="subCollectionFieldGroupPrototype">
                    <bean parent="Uif-VerticalFieldGroup" p:fieldLabel.render="false">
                        <property name="cssClasses">
                            <list merge="true">
                                <value>uif-subCollection</value>
                            </list>
                        </property>
                    </bean>
                </property>
                <property name="lineGroupPrototype">
                    <bean parent="Uif-CollectionVerticalBoxItem" p:validationMessages.render="false"
                          p:footer.render="false"/>
                </property>
            </bean>
        </property>
        <property name="headerText" value="@{dataObject.code} Course Sections"/>
        <property name="header">
            <bean parent="Uif-HeaderThree">
                <property name="cssClasses">
                    <list merge="true">
                        <value>myplan-underline-header</value>
                    </list>
                </property>
            </bean>
        </property>
        <property name="subCollections">
            <list>
                <ref bean="course_details_term_data"/>
            </list>
        </property>
    </bean>

    <bean id="course_details_institution_data_multi" parent="Uif-TabbedCollectionGroup"
          p:validationMessages.render="false">
        <property name="collectionObjectClass"
                  value="org.kuali.student.myplan.course.dataobject.CourseOfferingInstitution"/>
        <property name="propertyName" value="courseOfferingInstitutionList"/>
        <property name="render" value="@{dataObject.courseOfferingInstitutionList.size() gt 1}"/>
        <property name="layoutManager.summaryFields" value="name"/>
        <!-- Tab Label -->
        <property name="layoutManager.lineGroupPrototype">
            <bean p:id="@{#line.code}" parent="Uif-VerticalBoxSection">
                <property name="header.render" value="false"/>
            </bean>
        </property>
        <property name="cssClasses">
            <list merge="true">
                <value>myplan-course-sections</value>
            </list>
        </property>
        <property name="headerText" value="@{dataObject.code} Course Sections"/>
        <property name="header">
            <bean parent="Uif-HeaderThree">
                <property name="cssClasses">
                    <list merge="true">
                        <value>myplan-underline-header</value>
                    </list>
                </property>
            </bean>
        </property>
        <property name="subCollections">
            <list>
                <ref bean="course_details_term_data"/>
            </list>
        </property>
    </bean>

    <bean id="course_details_term_data" parent="Uif-StackedCollectionGroup" p:validationMessages.render="false">
        <property name="collectionObjectClass" value="org.kuali.student.myplan.course.dataobject.CourseOfferingTerm"/>
        <property name="propertyName" value="courseOfferingTermList"/>
        <property name="layoutManager">
            <bean parent="Uif-StackedCollectionLayout-WithBoxItems">
                <property name="subCollectionFieldGroupPrototype">
                    <bean parent="Uif-VerticalFieldGroup" p:fieldLabel.render="false">
                        <property name="cssClasses">
                            <list merge="true">
                                <value>uif-subCollection</value>
                            </list>
                        </property>
                    </bean>
                </property>
                <property name="lineGroupPrototype">
                    <!-- TODO: parentLine expression not available within the lineGroupPrototype, KRAD bug https://jira.kuali.org/browse/KULRICE-9003 -->
                    <bean p:id="@{#line.instituteCode}_tab-@{#line.yearTerm.toATP().replace('.','-')}"
                          parent="Uif-CollectionVerticalBoxItem" p:validationMessages.render="false"
                          p:footer.render="false"/>
                </property>
            </bean>
        </property>
        <property name="subCollections">
            <list>
                <ref bean="course_details_activity_data"/>
            </list>
        </property>
    </bean>

    <bean id="course_details_activity_data" parent="Uif-TableCollectionSection">
        <property name="collectionObjectClass" value="org.kuali.student.myplan.course.dataobject.ActivityOfferingItem"/>
        <property name="propertyName" value="activityOfferingItemList"/>
        <property name="layoutManager.id" value="course_details_section_datatable"/>
        <property name="headerText" value="@{#line.term}"/>
        <property name="header">
            <bean parent="Uif-HeaderFive"/>
        </property>
        <property name="header.lowerGroup">
            <bean parent="Uif-HorizontalBoxGroup" p:validationMessages.render="false"
                  p:render="@{#line.courseComments ne null}" p:style="margin-top: 10px;">
                <property name="items">
                    <list>
                        <bean parent="Uif-Message" p:messageText="@{#line.courseComments}"/>
                    </list>
                </property>
            </bean>
        </property>
        <!--<property name="onDocumentReadyScript" value="
            jQuery('#course_details_section_datatable_info').after('&lt;div class=&quot;dataTables_filter&quot;&gt;&lt;label for=&quot;section_filter&quot;&gt;Show&lt;/label&gt;&lt;select id=&quot;section_filter&quot; name=&quot;section_filter&quot;&gt;&lt;option value=&quot;all&quot;&gt;All Sections&lt;/option&gt;&lt;option value=&quot;open&quot;&gt;Open Sections only&lt;/option&gt;&lt;/select&gt;&lt;/div&gt;');
            jQuery('.dataTables_filter select').change(function() {
                var oTable = jQuery('#course_details_section_datatable').dataTable();
                switch (jQuery(this).val()) {
                    case 'all':
                        oTable.fnFilter('', 6, true);
                        break;
                    case 'open':
                        oTable.fnFilter('^((?!closed).)*$', 6, true);
                        break;
                    case 'closed':
                        oTable.fnFilter('closed', 6, true);
                        break;
                }
            });
        "/>-->
        <property name="layoutManager.renderSequenceField" value="false"/>
        <property name="layoutManager.applyDefaultCellWidths" value="false"/>
        <property name="layoutManager.richTable.templateOptions">
            <map merge="true">
                <entry key="bPaginate" value="false"/>
                <entry key="bSort" value="false"/>
                <entry key="bAutoWidth" value="false"/>
                <entry key="bLengthChange" value="false"/>
                <entry key="bFilter" value="true"/>
                <entry key="sDom" value="it"/>
                <entry key="aoColumns" value="[
                            {'sWidth':'48px'},
                            {'sWidth':'86px'},
                            {'sWidth':'288px'},
                            {'sWidth':'42px','sType':'string'},
                            {'sWidth':'85px'},
                            {'sWidth':'72px'},
                            {'sWidth':'25px'}
                       ]"/>
                <entry key="oLanguage" value="{
                            'sInfo':'',
                            'sInfoEmpty':'',
                            'sInfoFiltered':'',
                            'sZeroRecords':''
                       }"/>
                <entry key="fnInitComplete" value="
                    function(oSettings, json) {
                        if ( oSettings.fnRecordsDisplay() > 0 ) jQuery.publish('DATATABLE_INITIALISED');
                    }
                "/>
            </map>
        </property>
        <!--<property name="layoutManager.rowDetailsUseImage" value="true"/>
        <property name="layoutManager.rowDetailsLinkName" value="View more"/>-->
        <!-- layoutManager.rowCssClasses does not work currently, but no exception is thrown. TableLayoutManager clears any values set -->
        <!--<property name="layoutManager.rowCssClasses">
            <list merge="true">
                <value></value>
            </list>
        </property>-->
        <property name="items">
            <list>
                <bean parent="Uif-VerticalFieldGroup" p:label="Section" p:group.validationMessages.render="false">
                    <property name="items">
                        <list>
                            <bean p:id="@{#line.atpId.replace('.','-')}-@{#line.registrationCode}"
                                  parent="Uif-DataField" p:propertyName="code" p:label="Section"
                                  p:fieldLabel.render="false"
                                  p:style="margin:4px 0; font-size:@{!#line.primary ? '1.75em;':'2.6em; line-height:25px;'}">
                                <property name="cssClasses">
                                    <list merge="true">
                                        <value>fl-text-align-center</value>
                                    </list>
                                </property>
                            </bean>
                            <bean p:id="@{dataObject.courseId}-@{#line.code}-@{#line.registrationCode}"
                                  parent="Uif-ActionLink" p:actionLabel="View more" p:style="margin:0 0 4px 0;"
                                  p:render="@{!#line.primary}">
                                <property name="actionScript" value="
                                    if(jQuery(this).hasClass('disabled')){return false;}
                                    expandDataTableDetail(this, 'course_details_section_datatable', false, 'View more', 'View less');
                                "/>
                                <property name="cssClasses">
                                    <list merge="true">
                                        <value>fl-font-size-80</value>
                                        <value>fl-text-align-center</value>
                                    </list>
                                </property>
                            </bean>
                            <bean p:id="@{dataObject.courseId}-@{#line.code}-@{#line.registrationCode}"
                                  parent="Uif-ActionLink" p:actionLabel="View more" p:render="@{#line.primary}">
                                <property name="onDocumentReadyScript" value="
                                    jQuery('#@{dataObject.courseId}-@{#line.code}-@{#line.registrationCode}').subscribe('DATATABLE_INITIALISED', function(data) {
                                        showDataTableDetail(this,'course_details_section_datatable',false);
                                        jQuery(this).parents('tr').css('border-top-width','3px');
                                        jQuery(this).parents('tr').next('tr').children('td.uif-rowDetails').parents('tr').css('border-bottom','solid 3px #ccc');
                                    });
                                "/>
                                <property name="actionScript" value=""/>
                            </bean>
                            <bean parent="Uif-VerticalBoxSection" p:validationMessages.render="false"
                                  p:style="margin:0 33px 0 56px; display:none; width:617px;" p:header.render="false">
                                <property name="items">
                                    <list>
                                        <bean parent="Uif-HorizontalBoxGroup" p:validationMessages.render="false">
                                            <property name="style"
                                                      value="margin:0; background:url('../ks-myplan/images/bkgrdDottedCCC.png') 391px 0px repeat-y;"/>
                                            <property name="items">
                                                <list>
                                                    <bean parent="Uif-DataField" p:propertyName="instructor"
                                                          p:label="Instructor" p:fieldLabel.renderColon="false"
                                                          p:labelPlacement="TOP"
                                                          p:style="width:383px;"/>
                                                    <bean parent="Uif-VerticalFieldGroup" p:label="Other"
                                                          p:fieldLabel.renderColon="false" p:labelPlacement="TOP"
                                                          p:group.validationMessages.render="false"
                                                          p:style="width:217px;">
                                                        <property name="items">
                                                            <list>
                                                                <bean parent="Uif-Message"
                                                                      p:messageText="@{#line.gradingOption}"
                                                                      p:render="@{#line.gradingOption ne null}"/>
                                                                <bean parent="Uif-Message"
                                                                      p:messageText="Distance learning"
                                                                      p:render="@{#line.distanceLearning}"/>
                                                                <bean parent="Uif-Message" p:messageText="Honors"
                                                                      p:render="@{#line.honorsSection}"/>
                                                                <bean parent="Uif-Message"
                                                                      p:messageText="Jointly offered"
                                                                      p:render="@{#line.jointOffering}"/>
                                                                <bean parent="Uif-Message" p:messageText="Research"
                                                                      p:render="@{#line.research}"/>
                                                                <bean parent="Uif-Message" p:messageText="Writing"
                                                                      p:render="@{#line.writingSection}"/>
                                                                <bean parent="Uif-Message"
                                                                      p:messageText="Service learning"
                                                                      p:render="@{#line.serviceLearning}"/>
                                                                <bean parent="Uif-Message" p:messageText="New course"
                                                                      p:render="@{#line.newThisYear}"/>
                                                                <bean parent="Uif-Message"
                                                                      p:messageText="May not be eligible for Financial Aid"
                                                                      p:render="@{#line.ineligibleForFinancialAid}"/>
                                                                <bean parent="Uif-Message"
                                                                      p:messageText="Course Fee $@{#line.feeAmount}"
                                                                      p:render="@{#line.feeAmount ne null}"/>
                                                                <bean parent="Uif-Message" p:messageText="--"
                                                                      p:render="@{#line.gradingOption eq null AND
                                                                                 !#line.distanceLearning AND
                                                                                 !#line.honorsSection AND
                                                                                 !#line.jointOffering AND
                                                                                 !#line.research AND
                                                                                 !#line.writingSection AND
                                                                                 !#line.serviceLearning AND
                                                                                 !#line.newThisYear AND
                                                                                 !#line.ineligibleForFinancialAid AND
                                                                                 #line.feeAmount eq null  AND
                                                                                 !#line.independentStudy}"/>
                                                            </list>
                                                        </property>
                                                    </bean>
                                                </list>
                                            </property>
                                        </bean>
                                        <bean parent="Uif-HorizontalFieldGroup" p:label="Additional Details"
                                              p:group.validationMessages.render="false" p:style="margin:0;">
                                            <property name="items">
                                                <list>
                                                    <bean parent="Uif-Message" p:messageText="@{#line.sectionComments}"
                                                          p:style="display:inline; margin:0; float:none;"/>
                                                    <bean parent="current_section_status"
                                                          p:actionLabel="@{#line.details}"
                                                          p:style="display:inline; margin:0; float:none;"/>
                                                </list>
                                            </property>
                                        </bean>
                                    </list>
                                </property>
                            </bean>
                        </list>
                    </property>
                </bean>
                <bean parent="Uif-HorizontalFieldGroup" p:label="Type (Credit)"
                      p:group.validationMessages.render="false">
                    <property name="items">
                        <list>
                            <bean parent="Uif-DataField" p:propertyName="activityOfferingType"
                                  p:fieldLabel.render="false"
                                  p:style="margin-right:0.33em; text-transform:capitalize;"/>
                            <bean parent="Uif-Message" p:messageText="(@{#line.credits})" p:render="@{#line.primary}"
                                  p:style="margin:0;"/>
                        </list>
                    </property>
                </bean>
                <bean parent="Uif-DataField" p:label="Meeting Time &amp; Location" p:propertyName="meetingDetailsList"
                      p:escapeHtmlInPropertyValue="false">
                    <property name="propertyEditor" ref="meeting_building_link_formatter"/>
                </bean>
                <bean parent="Uif-HorizontalFieldGroup" p:label="SLN" p:group.validationMessages.render="false">
                    <property name="items">
                        <list>
                            <bean parent="current_section_status" p:actionLabel="@{#line.registrationCode}"/>
                        </list>
                    </property>
                </bean>
                <bean parent="Uif-HorizontalFieldGroup" p:label="ENRL RESTR" p:group.validationMessages.render="false">
                    <property name="items">
                        <list>
                            <bean parent="Uif-Message" p:messageText="Faculty Code Required"
                                  p:render="@{#line.independentStudy}" p:style="margin:0;"/>
                            <bean parent="Uif-Message" p:messageText="Add Code Required"
                                  p:render="@{#line.addCodeRequired AND !#line.independentStudy}" p:style="margin:0;"/>
                            <bean parent="current_section_status" p:actionLabel="View restrictions"
                                  p:render="@{#line.enrollRestriction AND !#line.independentStudy AND !#line.addCodeRequired}"
                                  p:style="margin:0;"/>
                            <bean parent="Uif-Message" p:messageText="--"
                                  p:render="@{!#line.enrollRestriction AND !#line.addCodeRequired  AND !#line.independentStudy}"
                                  p:style="margin:0;"/>
                        </list>
                    </property>
                </bean>
                <bean parent="Uif-HorizontalFieldGroup" p:label="ENRL / Limit"
                      p:group.validationMessages.render="false">
                    <property name="items">
                        <list>
                            <!--<bean parent="Uif-Message" p:messageText="@{#line.enrollOpen ? 'Open':'Closed'}">
                                <property name="cssClasses">
                                    <list merge="true">
                                        <value>@{#line.enrollOpen ? 'open':'closed'}</value>
                                    </list>
                                </property>
                            </bean>-->
                            <bean parent="Uif-Message"
                                  p:messageText="&lt;strong&gt;@{#line.enrollCount}&lt;/strong&gt; / @{#line.enrollMaximum}@{#line.enrollEstimate}">
                                <property name="title"
                                          value="@{#line.enrollCount} enrolled out of @{#line.enrollMaximum}@{#line.enrollEstimate eq 'E' ? ' estimated':''} limit."/>
                            </bean>
                        </list>
                    </property>
                </bean>

                <!-- TODO: Enable the add button in 1.3 and remove empty cell placeholder -->
                <bean parent="Uif-MessageField" p:label="" p:messageText=""/>
                <!--<bean p:id="@{dataObject.courseId}-@{#line.code}" parent="Uif-ImageField" p:label="Add" p:altText="Add"
                      p:title="Add" p:source="@{#ConfigProperties['ks.myplan.externalizable.images.url']}pixel.gif"
                      p:render="@{#line.planned eq false ? true : false}">
                    <property name="cssClasses">
                        <list merge="true">
                            <value>myplan-add</value>
                            <value>fl-text-align-center</value>
                        </list>
                    </property>
                    <property name="onClickScript"
                              value="openPlanItemPopUp('@{dataObject.courseId}','add_section_dialog_page',{courseId:'@{dataObject.courseId}',sectionCode:'@{#line.code}',termYear:'@{#line.atpId}',pageId:'add_section_dialog_page', moveCourse:'false'},e,null,{tail:{hidden:true},position:'right',align:'top'});"/>
                </bean>
                <bean parent="Uif-MessageField" p:fieldLabel.render="false"
                      p:render="@{#line.planned eq true ? true : false}">
                    <property name="message">
                        <bean parent="Uif-Message" p:messageText="InPlan">
                            <property name="cssClasses">
                                <list merge="true">
                                    <value>fl-font-size-80</value>
                                    <value>fl-text-green</value>
                                </list>
                            </property>
                        </bean>
                    </property>
                </bean>
                -->
            </list>
        </property>
    </bean>

    <bean id="current_section_status" parent="Uif-ActionLink" p:style="margin:0;">
        <property name="actionScript"
                  value="myplanLightBoxLink('https://sdb.admin.washington.edu/timeschd/uwnetid/sln.asp?QTRYR=@{#line.qtryr}&amp;SLN=@{#line.registrationCode}',{helpers:{overlay:{closeClick:false}},autoScale:true,centerOnScroll:true,transitionIn:'fade',transitionOut:'fade',speedIn:200,speedOut:200,type:'iframe'},e);"/>
    </bean>
</beans>
