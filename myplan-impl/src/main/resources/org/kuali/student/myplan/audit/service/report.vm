
<div>
<h1>${report.webTitle}</h1>



<table class="audit-summary">
	<tr>
		<td colspan="2">
			<table>
				<tr>
					<td class="prepared-for">
                        ## This is replaced by the MyPlan client code, who knows who the logged in
                        ## student is, versus the DegreeAuditService, who doesn't.
						<label>Prepared for:</label> $$PreparedFor$$
					</td>
				</tr>
				<tr>
					<td class="date-prepared">
						<label>Date Prepared:</label> ${report.datePrepared}
					</td>
				</tr>
				<tr>
					<td class="program-entry-date">
						<label>Program Entry Date:</label> ${report.entryDateProgram}
					</td>
				</tr>
			</table>
		</td>
	</tr>
</table>

<p>
This report is an advising tool used to track degree progress. Final confirmation of degree
requirements is subject to department or college and university approval.
</p>

#if( !${report.complete} )
<div class="audit-incomplete">
NOTE: At least one requirement still incomplete.
</div>
#end

<div class="control-toolbar">
	<label for="requirement_status">Show</label>
	<select id="requirement_status" name="requirement_status">
		<option value="all">All Requirements</option>
		<option value="N">Incomplete Only</option>
		<option value="I">In-Progress Only</option>
	</select>
</div>


#foreach( $advisory in $report.advisoryList )
<div class="requirement-advisory">
${advisory}
</div>
#end

#foreach( $section in $report.sectionList )
#if( ${section.hasCaption()} )
<div class="requirement-group">
	<div class="group-heading">
		<h3>${section.caption}</h3>
		<a href="#jump" class="jump">Jump to the next section</a>
		<a href="#top" class="back">Back to top</a>
	</div>
#foreach( $req in $section.requirementList )
	<div class="requirement ${req.status}">
		<div class="requirement-heading">
			<div class="${req.status}">
                <!-- Course Link Builder example -->
##                <!-- <p>$courseLinkBuilder.makeLinks(${req.caption})</p> -->
                <h4>${req.caption}</h4>
			</div>
		</div>
		<div class="requirement-body">
		    <div class="requirement-content">

#if( ${req.hasCredits()} )
                <ul class="progress">
#if( ${req.credits.showEarned()} )
                    <li class="earned"><label>Earned:</label> ${req.credits.earned} credits</li>
#end
#if( ${req.credits.showInprogress()} )
                    <li class="inprogress"><label>In-progress:</label> ${req.credits.inprogress} credits</li>
#end
#if( ${req.credits.showNeeds()} )
                    <li class="needs"><label>Needs:</label> ${req.credits.needs} credits</li>
#end
                </ul>
#end
#if( ${req.hasGPA()} && ${req.gpa.showEarned()} )
                <ul class="progress">
                    <li class="earned"><label>Earned:</label> ${req.gpa.earned} GPA</li>
                </ul>
#end
#if( ${req.hasCount()} )
                <ul class="progress">
#if( ${req.credits.showEarned()} )
                    <li class="earned"><label>Earned:</label> ${req.count.earned} courses</li>
#end
#if( ${req.credits.showNeeds()} )
                    <li class="needs"><label>Needs:</label> ${req.count.needs} courses</li>
#end
                </ul>
#end
            </div>

#foreach( $subreq in $req.subrequirementList ) ## subreq
            <div class="subrequirement">
                <div class="subrequirement-heading">
                    <div class="${subreq.status}">
#if( ${subreq.hasCaption()} )
                        ${subreq.caption}
#end
                    </div>
                </div>
                <div class="subrequirement-content">
#if( ${subreq.hasCredits()} )
                    <ul class="progress">
#if( ${subreq.credits.showEarned()} )
                        <li class="earned"><label>Earned:</label> ${subreq.credits.earned} credits</li>
#end
#if( ${subreq.credits.showInprogress()} )
                        <li class="inprogress"><label>In-progress:</label> ${subreq.credits.inprogress} credits</li>
#end
#if( ${subreq.credits.showNeeds()} )
                        <li class="needs"><label>Needs:</label> ${subreq.credits.needs} credits</li>
#end
                    </ul>
#end
#if( ${subreq.hasGPA()} && ${subreq.gpa.showEarned()} )
                    <ul class="progress">
                        <li class="earned"><label>Earned:</label>${subreq.gpa.earned} GPA</li>
                    </ul>
#end
#if( ${subreq.hasCount()} )
                    <ul class="progress">
#if( ${subreq.count.showEarned()} )
                        <li class="earned"><label>Earned:</label> ${subreq.count.earned} courses</li>
#end
#if( ${subreq.count.showNeeds()} )
                        <li class="needs"><label>Needs:</label> ${subreq.count.needs} courses</li>
#end
                    </ul>
#end


#if( ${subreq.hasCourseTakenList()} )
                    <div class="subrequirement-courses-taken">
                        <table>
                            <thead>
                                <tr>
                                    <th>Qtr</th><th>Course Name</th><th>Credits</th><th>Grade</th>
                                </tr>
                            </thead>
                            <tbody>
#foreach( $taken in $subreq.courseTakenList )
                                <tr>
#if( ${taken.hasCluid()} )
                                    <td>${taken.quarter}</td><td><a href="#" onclick="openCourse('${taken.cluid}',event,true);">${taken.dept} ${taken.number} ${taken.description}</a></td>
#if( ${taken.inProgress} )
                                    <td>In Progress</td><td></td>
#else
                                    <td>${taken.credits}</td><td>${taken.grade}</td>
#end ## if inprogress
#else
                                    <td>${taken.quarter}</td><td>${taken.dept} ${taken.number} ${taken.description}</td><td>${taken.credits}</td>
                                    #if(${taken.inProgress})
                                    <td>IP</td>
                                    #else
                                    <td>${taken.grade}</td>
                                    #end
#end ## if hasCluid
                                </tr>
#end ## foreach taken
                            </tbody>
                        </table>
                    </div>
#end
                </div>
            </div>
#end ## subreq

        </div>

	</div>


#end ## foreach req
</div>
#end ## if section.hasCaption
#end ## foreach section
</div>